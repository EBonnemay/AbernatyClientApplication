<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>abernaty-client</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <title>abernaty-client</title>
    <style>
    main {
    margin-left: 10%;
    margin-right: 10%;
    margin-top:5%;
    }
     .box {
  display: flex;
  justify-content: space-between;
}

</style>

    <link rel="stylesheet" type="text/css" href="webjars/bootstrap/5.2.3/css/bootstrap.min.css"/>

</head>

<body>
<main>
<container>
    <h1>Patients</h1>

    <div class="row" style = "margin-top : 20px">
        <div class="col">

            <table class="table table-striped">

                <thead>
                    <td th:text="'family'"></td>
                    <td th:text="'given'"></td>
                    <td type="date" th:text="'date_of_birth'" ></td>
                    <td th:text="'sex'"></td>
                    <td th:text="'address'"></td>
                    <td th:text="'phone'"></td>
                    <td th:text="'notes'"></td>



                </thead>
                <tbody>
                <!-- ne pas corriger les warnings IntelliJ sur les expressions spel -->
                <tr th:if="${patients.empty}">
                    <td colspan="3">Aucun patient</td>
                </tr>
                <tr th:each="patient: ${patients}">
                    <td th:text="${patient.family}"></td>
                    <td th:text="${patient.given}"></td>
                    <td th:text="${patient.date_of_birth}"></td>
                    <td th:text="${patient.sex}"></td>
                    <td th:text="${patient.address}"></td>
                    <td th:text="${patient.phone}"></td>


                    <!--<td><a th:href="@{/patient/update/{id}(id=${patient.patient_id})}" method = "get" class="btn btn-link">update</a></td>-->
                    <td><a th:href="@{/note/all/{patId}(patId=${patient.patient_id})}" method = "get" class="btn btn-outline-info">patient's file</a></td>
                    <td><a th:href="@{/patient/update/{id}(id=${patient.patient_id})}" method = "get" class="btn btn-outline-secondary">update</a></td>
                    <!--<td><span><a th:href="@{/deleteFriend(email = ${user.email})}">Delete</a></span></td>-->
                    <td><form th:action="@{/patient/delete/{id}(id=${patient.patient_id})}" method="get" id="deleteForm">
                        <input type="hidden" name="_method" />
                        <button type="submit" class="btn btn-outline-dark" >Delete</button>
                    </form></td>
                </tr>
                </tbody>
            </table>

        <!--<div th:each="patient : ${patients}" class="col-md-4 my-1">

           <p th:text= "${patient.family}"></p>
           <p th:text= "${patient.given}"></p>
           <p th: text="${patient.date_of_birth}"></p>
           <p th:text= "${patient.sex}"></p>
           <p th:text= "${patient.address}"></p>
           <p th:text= "${patient.phone}"></p>


        </div>-->

    </div>
</div>
    <div class="row">

        <h2><a th:href="@{/patient/add}" method = "get" class="btn btn-secondary">Add new patient</a></h2>
    </div>
</container>
</main>
<footer></footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

</body>

</html>

</body>
</html>